<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="utf-8">
    <title>Ajout d'une Formation</title>
    <link rel="stylesheet" type="text/css" href="webjars/bootstrap/4.3.1/css/bootstrap.min.css" />
</head>
<body>
	<div th:replace="template"></div>
<div class="container mt-5">
    <div class="card">
        <div class="card-header">Ajout d'une Formation</div>
        <div class="card-body">
			<form th:action="@{/saveFormation}" th:object="${formation}" method="post">

			    <div class="form-group">
			        <label class="control-label">Nom Formation :</label>
			        <input type="text" th:field="*{nomFormation}" class="form-control" />
			        <span th:errors="*{nomFormation}" class="text-danger"></span>
			    </div>

			    <div class="form-group">
			        <label class="control-label">Prix Formation :</label>
			        <input type="number" th:field="*{prixFormation}" class="form-control" />
			        <span th:errors="*{prixFormation}" class="text-danger"></span>
			    </div>

			    <div class="form-group">
			        <label class="control-label">Date Début :</label>
			        <input type="date" th:field="*{datedebut}" class="form-control" />
			        <span th:errors="*{datedebut}" class="text-danger"></span>
			    </div>

			    <div class="form-group">
			        <label class="control-label">Date Fin :</label>
			        <input type="date" th:field="*{datefin}" class="form-control" />
			        <span th:errors="*{datefin}" class="text-danger"></span>
			    </div>

			    <div class="form-group">
			        <label class="control-label">Mode Formation :</label>
			        <input type="text" th:field="*{modeFormation}" class="form-control" />
			        <span th:errors="*{modeFormation}" class="text-danger"></span>
			    </div>

				<div class="form-group">
				    <label class="control-label">Thème :</label>

				    <!-- Cas où le theme de la formation est non null (mode édition classique) -->
				    <select th:if="${!#strings.isEmpty(formation.theme)}"
				            class="form-control"
				            th:field="*{theme}">
				        <option th:each="t : ${themes}"
				                th:value="${t.idTheme}"
				                th:text="${t.nomTheme}">
				        </option>
				    </select>

				    <!-- Cas où le thème est null (ajout d'une nouvelle formation ou modif avec theme null) -->
				    <select th:if="${#strings.isEmpty(formation.theme)}"
				            class="form-control"
				            th:field="*{theme}">
				        <option th:each="t : ${themes}"
				                th:value="${t.idTheme}"
				                th:text="${t.nomTheme}">
				        </option>
				    </select>
				</div>


			    <button type="submit" class="btn btn-primary">Ajouter</button>
			</form>

        </div>
    </div>
</div>
</body>
</html>
